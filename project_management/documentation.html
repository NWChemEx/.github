<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Documentation Deployment &mdash; DeveloperTools 1.0.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Additional Developer Resources" href="../resources/index.html" />
    <link rel="prev" title="How NWX’s CI Works" href="ci_maintainer_notes.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> DeveloperTools
          </a>
              <div class="version">
                1.0.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../conventions/index.html">Project Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">Design Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Developing NWChemEx</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Project Management</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ci_maintainer_notes.html">How NWX’s CI Works</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Documentation Deployment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-nwx-s-documentation-actually-works">How NWX’s Documentation Actually Works</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#c">C++</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sphinx">Sphinx</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#documentation">Documentation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../resources/index.html">Additional Developer Resources</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DeveloperTools</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Project Management</a> &raquo;</li>
      <li>Documentation Deployment</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/project_management/documentation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="documentation-deployment">
<h1>Documentation Deployment<a class="headerlink" href="#documentation-deployment" title="Permalink to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>NWX uses a two-pronged approach to documentation: Doxygen and Sphinx. Doxygen is
the <em>de facto</em> standard for writing and generating C++ API documentation. Sphinx
is the <em>de facto</em> standard for generating Python documentation. Unfortunately,
Sphinx and Doxygen do not play so well together (there a number of efforts out
there to bridge the gap, but most seem to leave plenty to be desired).</p>
</section>
<section id="how-nwx-s-documentation-actually-works">
<h2>How NWX’s Documentation Actually Works<a class="headerlink" href="#how-nwx-s-documentation-actually-works" title="Permalink to this heading"></a></h2>
<section id="c">
<h3>C++<a class="headerlink" href="#c" title="Permalink to this heading"></a></h3>
<p>As developers write C++ they are expected to document the APIs of classes and
functions. The C++ API documentation should be written using Doxygen’s native
markdown (markup?) language. The Doxygen documentation is built using CMake’s
Doxygen module. Using CMake’s Doxygen module is fairly cookie-cutter so NWChemEx
provides the <code class="docutils literal notranslate"><span class="pre">nwx_cxx_api_docs.cmake</span></code> CMake module to avoid code duplication.
The master version of <code class="docutils literal notranslate"><span class="pre">nwx_cxx_api_docs.cmake</span></code> lives in this repo and is
synchronized with all other repos. Downstream repos need only include the
following two lines in their top-level <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> file:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">include</span><span class="p">(</span><span class="s">nwx_cxx_api_docs</span><span class="p">)</span>
<span class="nb">nwx_cxx_api_docs</span><span class="p">(</span><span class="s">/path/to/cxx/source_dir1</span><span class="w"> </span><span class="s">/path/to/cxx/source_dir2</span><span class="w"> </span><span class="s">...</span><span class="p">)</span>
</pre></div>
</div>
<p>(obviously use the actual paths to your C++ source directories). It’s best that
this is included near the top of the <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> file as the module
includes a mechanism for avoiding much of the CMake configuration in the event
that we are only trying to build the documentation (a common CI scenario). Once
the C++ API documentation is generated it will reside in the build directory.</p>
</section>
<section id="sphinx">
<h3>Sphinx<a class="headerlink" href="#sphinx" title="Permalink to this heading"></a></h3>
<p>Tutorials, detailed background, and other narrative-based documentation is
written most easily in Sphinx’s flavor of reStructuredText. This also has the
benefit of resulting in far prettier documentation than Doxygen’s equivalent.
This documentation should be kept with the repository it pertains to (if it
applies project-wide it should live in the DeveloperTools repo) in the repo’s
<code class="docutils literal notranslate"><span class="pre">docs</span></code> directory. This directory should have a typical Sphinx setup:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>docs/
├-source/
| ├-section1/
| | └-index.rst
| ├-section2/
| | └-index.rst
| ├-conf.py
| └-index.rst
└-Makefile
</pre></div>
</div>
<p>If the repository has C++ API documentation it will be generated at
<code class="docutils literal notranslate"><span class="pre">docs/build/html/x_cxx_api/index.html</span></code> where <code class="docutils literal notranslate"><span class="pre">x</span></code> is the project name
provided in <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code>, in lowercase. It can be linked to in your main
<code class="docutils literal notranslate"><span class="pre">index.rst</span></code> file like:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="s">`C++ API </span><span class="si">&lt;x_cxx_api/index.html&gt;</span><span class="s">`_</span>
</pre></div>
</div>
<p>(substituting in the project name for the first <code class="docutils literal notranslate"><span class="pre">x</span></code>. When Sphinx is run the
index of the resulting documentation will be located at
<code class="docutils literal notranslate"><span class="pre">docs/build/html/index.html</span></code>.</p>
</section>
</section>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this heading"></a></h2>
<p>Deployment of documentation to GitHub pages assumes that each repo’s
documentation is written as outlined in previous section. Additionally:</p>
<ol class="arabic simple">
<li><p>Each repo must have the <code class="docutils literal notranslate"><span class="pre">build_docs.sh</span></code> workflow script in it’s <code class="docutils literal notranslate"><span class="pre">.github</span></code>
directory.</p></li>
<li><p>Repositories should include two YAML files: <code class="docutils literal notranslate"><span class="pre">test_docs.yaml</span></code> and
<code class="docutils literal notranslate"><span class="pre">deploy_docs.yaml</span></code> which can be copy/pasted from this repo’s versions and
modified appropriately.</p></li>
<li><p>With 1 and 2 satisfied, when a user submits a PR <code class="docutils literal notranslate"><span class="pre">test_docs.yaml</span></code> will
ensure the documentation builds.</p></li>
<li><p>Once the PR is merged into master <code class="docutils literal notranslate"><span class="pre">deploy_docs.yaml</span></code> will build the
documentation and push it to the repo’s <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch.</p></li>
<li><p>GitHub will automatically publish the contents of the <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch as
a GitHub pages website, which can be linked to like any other website.</p></li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ci_maintainer_notes.html" class="btn btn-neutral float-left" title="How NWX’s CI Works" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../resources/index.html" class="btn btn-neutral float-right" title="Additional Developer Resources" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, NWChemEx Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>