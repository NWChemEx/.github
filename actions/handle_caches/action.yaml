name: Test Documentation
inputs:
  dependencies:
    required: true
    type: string
runs:
  using: "composite"
  steps:
#   - name: Obtain Source
#     uses: actions/checkout@v2
# #   - if: ${{contains(inputs.dependencies, 'libint')}}
  - name: cache-libint   
    id: cache
    uses: actions/cache@v2
    with:
      path: |
        libint-2.6.0/
        install/
      key: libint-gcc${{ matrix.gcc_version }}
  - name: build-libint
    env:
      CACHE_LIBINT: ${{steps.cache.outputs.cache-hit}}
    if: steps.cache.outputs.cache-hit != 'true'
    run: |
      export INSTALL_PATH=`pwd`/install
      # check code out
      wget https://github.com/evaleev/libint/releases/download/v2.6.0/libint-2.6.0.tgz
      tar -zxf libint-2.6.0.tgz
      cd libint-2.6.0
      # export CXX=`which g++`
      # export CC=`which gcc`
      # cmake -H. -Bbuild -DCMAKE_INSTALL_PREFIX=${INSTALL_PATH} -DCMAKE_CXX_COMPILER=${CXX} -DCMAKE_C_COMPILER=${CC} -DCMAKE_CXX_FLAGS="-std=c++17" -DBUILD_SHARED_LIBS=ON -DCPP_GITHUB_TOKEN=$CPP_GITHUB_TOKEN
      # cd build
      echo "hello" >> hello.txt
      # make
      make install
