

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Python Development Workflow &mdash; Developer Documentation 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Python Coding Conventions" href="python_conventions.html" />
    <link rel="prev" title="Developing Python Software" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Developer Documentation
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../design/index.html">Design Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Developing NWChemEx</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../preliminaries.html">Preliminaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cxx/index.html">Developing C++ Software</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Developing Python Software</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Python Development Workflow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#step-0-preliminaries">Step 0: Preliminaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-1-python-setup">Step 1: Python Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-2-build-nwchemex">Step 2: Build NWChemEx</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-3-python-path">Step 3: Python Path</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="python_conventions.html">Python Coding Conventions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ides/index.html">Using IDEs to Develop NWX</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../documenting/index.html">Documenting NWChemEx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../continuous_integration/index.html">Project Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources/index.html">Additional Developer Resources</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Developer Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Developing NWChemEx</a> &raquo;</li>
        
          <li><a href="index.html">Developing Python Software</a> &raquo;</li>
        
      <li>Python Development Workflow</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/coding/python/python_development_workflow.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="python-development-workflow">
<span id="development-python-development-workflow"></span><h1>Python Development Workflow<a class="headerlink" href="#python-development-workflow" title="Permalink to this heading">¶</a></h1>
<p>This page is intended to get you up and running so that you can develop for
NWX from Python. These instructions walk you through getting to a point
where you can do <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">nwchemex</span></code> in Python.</p>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>At some point it will probably make sense to combine at least some of these
instructions with the build instructions in the NWChemEx repo.</p>
</div>
<section id="step-0-preliminaries">
<h2>Step 0: Preliminaries<a class="headerlink" href="#step-0-preliminaries" title="Permalink to this heading">¶</a></h2>
<p>The Python workflow builds off of the <a class="reference internal" href="../preliminaries.html#development-preliminaries"><span class="std std-ref">Preliminaries</span></a> setup.</p>
</section>
<section id="step-1-python-setup">
<h2>Step 1: Python Setup<a class="headerlink" href="#step-1-python-setup" title="Permalink to this heading">¶</a></h2>
<p>When doing Python development it’s always a good idea to do so in a virtual
environment. Assuming you completed the preliminary step, run these commands
in the NWChemEx workspace directory you created:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>&lt;virtual_environment_name&gt;
<span class="nb">source</span><span class="w"> </span>&lt;virtual_environment_name&gt;/bin/activate
pip<span class="w"> </span>install<span class="w"> </span>cppyy
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">&lt;virtual_environment_name&gt;</span></code> should be replaced with whatever you want to call
the virtual environment. The last line installs Cppyy which is needed for
generating the Python bindings for NWChemEx. It is worth noting that you may
want to respectively set the environment variables <code class="docutils literal notranslate"><span class="pre">CC</span></code> and <code class="docutils literal notranslate"><span class="pre">CXX</span></code> to
the full paths of your C and C++ compilers before running <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">cppyy</span></code>
to help ensure that Cppyy is built with the correct compiler.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There is a known
<a class="reference external" href="https://github.com/NWChemEx-Project/.github/issues/29">issue</a> with
Cppyy, NWChemEx, and GCC 9. It is thus strongly recommended you use GCC 11
(or newer).</p>
</div>
<p>Unfortunately, by default the Python detection in NWChemEx will not find
the virtual environment Python interpreter by default. To get around this
you can add:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="p">(</span><span class="s">Python3_EXECUTABLE</span><span class="w"> </span><span class="s">&lt;path_to_your_virtual_environment&gt;/bin/python3</span><span class="p">)</span>
</pre></div>
</div>
<p>to your toolchain (obviously substituting the actual path). This is a known
<a class="reference external" href="https://github.com/NWChemEx-Project/.github/issues/27">issue</a>.</p>
</section>
<section id="step-2-build-nwchemex">
<h2>Step 2: Build NWChemEx<a class="headerlink" href="#step-2-build-nwchemex" title="Permalink to this heading">¶</a></h2>
<p>Instructions for building NWChemEx can be found
<a class="reference external" href="https://nwchemex-project.github.io/NWChemEx/installation/building.html">here</a>.</p>
<p>For the sake of this tutorial we’ll assume that <code class="docutils literal notranslate"><span class="pre">${BUILD_DIR}</span></code> is the build
directory where NWChemEx was built.</p>
</section>
<section id="step-3-python-path">
<h2>Step 3: Python Path<a class="headerlink" href="#step-3-python-path" title="Permalink to this heading">¶</a></h2>
<p>After Step 2, the NWChemEx Python modules will reside at
<code class="docutils literal notranslate"><span class="pre">${BUILD_DIR}/Python</span></code> so assuming you have a Python script <code class="docutils literal notranslate"><span class="pre">test.py</span></code> which
contains:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">nwchemex</span> <span class="k">as</span> <span class="nn">nwx</span>

<span class="c1"># Do stuff with nwx</span>
</pre></div>
</div>
<p>You’ll have to run <code class="docutils literal notranslate"><span class="pre">test.py</span></code> like:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">PYTHONPATH</span><span class="o">=</span><span class="si">${</span><span class="nv">BUILD_DIR</span><span class="si">}</span>/Python<span class="w"> </span>python3<span class="w"> </span>test.py
</pre></div>
</div>
<p>(or similarly correctly set up the Python path).</p>
<p>At this point you should now have access to all of NWChemEx from Python.</p>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="python_conventions.html" class="btn btn-neutral float-right" title="Python Coding Conventions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Developing Python Software" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, NWChemEx Team.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>